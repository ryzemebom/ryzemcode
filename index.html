        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
        <meta charset="UTF-8">
        <title>Mini VS Code Web</title>
        <style>
            * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            }

            body {
            font-family: 'Fira Code', monospace;
            background-color: #2d2d2d;
            color: #d4d4d4;
            display: flex;
            height: 100vh;
            overflow: hidden;
            }

            #sidebar {
  width: 200px;
  background-color: #252526;
  color: #d4d4d4;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center; /* Centraliza verticalmente */
  gap: 1rem;
  transition: transform 0.3s ease;
  height: 100vh;
}


            #sidebar h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            text-align: center;
            }

            #file-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  width: 100%;
  text-align: center;
}


            #file-list li {
            padding: 0.5rem;
            cursor: pointer;
            
            transition: background-color 0.3s, transform 0.3s;
            }

            #file-list li:hover {
            background-color: #444;
            transform: scale(1.05);
            }

            #file-list li.active {
            background-color: #0e639c;
            transform: scale(1.05);
            }

            #create-file {
            background-color: #0e639c;
            border: none;
            padding: 0.6rem 1.2rem;
            color: white;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            margin-top: 1rem;
            }

            #create-file:hover {
            background-color: #1177bb;
            }

            #main-content {
            display: flex;
            flex: 1;
            width: 100%;
            padding: 1rem;
            }

            #editors {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 50%;
            }

            .editor {   
            flex: 1;
          display: flex;
          flex-direction: column;


            display: none;
            padding: 1rem;
            background-color: #333;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            }
            .editor #css-editor {   
            flex: 1;
          display: flex;
          flex-direction: column;


            display: none;
            padding: 1rem;
            background-color: #333;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            }
            .editor.active {
            display: block;
            border: 2px solid #0e639c;
            background-color: #1e1e1e;
            box-shadow: 0 0 10px rgba(14, 99, 156, 0.7);
            }

            textarea {
            background-color: #333;
            color: #dcdcdc;
            
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            resize: none;
  height: 500px; /* ou o valor que preferir */
  max-height: 70vh; /* cresce atÃ© 70% da altura da tela */


            width: 100%;
            margin-top: 1rem;
            }

            #controls {
            padding: 1rem;
            background-color: #252526;
            display: flex;
            justify-content: center;
            }

            #run {
            background-color: #0e639c;
            border: none;  
                color: white;
                margin-left: 100px    ;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
            }

            #run:hover {
            background-color: #1177bb;
            }

            #preview {
            flex: 1;
            border: none;
            background-color: #f9f9f9;
            width: 100%;
            height: 90%;
            border-left: 2px solid #333;
            margin-left: 1rem;
            padding: 1rem;
            box-sizing: border-box;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            }
            #preview-area {
  display: flex;
  flex-direction: column;
  flex: 1;
  background-color: #1e1e1e;
  border-left: 2px solid #333;
  border-radius: 8px;
  margin-left: 1rem;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

            #action-bar {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        background-color: #252526;
        border-bottom: 1px solid #444;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        }

        #action-bar button {
        background-color: #0e639c;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s ease;
        font-size: 0.9rem;
        }

        #action-bar button:hover {
        background-color: #1177bb;
        }


        #toggle-sidebar {
  background-color: #0e639c;
  border: none;
  padding: 0.6rem 1.2rem;
  color: white;
  font-size: 1rem;
  border-radius: 6px;
  cursor: pointer;
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 101;
  display: none;
}


            #toggle-sidebar:hover {
            background-color: #1177bb;
            }

            @media (max-width: 768px) {
  body {
    flex-direction: column;
    overflow-y: auto;
  }

  #sidebar {
    position: fixed;
    top: 0;
    left: 0;
    transform: translateX(-200px);
    height: 100%;
    z-index: 100;
    box-shadow: 2px 0 5px rgba(0,0,0,0.5);
  }

  #sidebar.open {
    transform: translateX(0);
  }

  #toggle-sidebar {
    display: block;
  }

  #main-content {
    flex-direction: column;
    padding: 0.5rem;
  }

  #editors {
    width: 100%;
    flex-direction: column;
  }

  .editor {
    height: auto;
  }

  textarea {
    height: 200px;
  }

  #preview-area {
    width: 100%;
    margin-left: 0;
  }

  #preview {
    width: 100%;
    height: 300px;
    margin-top: 0.5rem;
    border-left: none;
  }

  #action-bar {
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  #action-bar button {
    flex: 1 1 45%;
  }

  #run {
    margin-left: 0;
  }
}

.code-container {
  display: flex;
  width: 100%;
  position: relative;
}

.line-numbers {
  background-color: #1e1e1e;
  color: #888;
  padding: 1rem 0.5rem;
  text-align: right;
  user-select: none;
  font-size: 14px;
  font-family: 'Fira Code', monospace;
  border-right: 1px solid #444;
}

.line-numbers::after {
  content: '';
  display: block;
  height: 100%;
}

textarea {
  flex: 1;
  border: none;
  padding: 1rem;
  resize: none;
  outline: none;
  overflow: auto;
  font-family: 'Fira Code', monospace;
  font-size: 14px;
  background-color: #1e1e1e;
  color: #dcdcdc;
  border-radius: 0 8px 8px 0;
}

.code-container textarea {
  border-left: none;
  margin: 0;
}

.editor textarea::-webkit-scrollbar {
  width: 8px;
}

.logo{
    width: 70%;
    
}
        </style>
</head>
<body>
  <button id="toggle-sidebar">â˜°</button>

  <div id="sidebar">
    <img class="logo" src="V.png" alt="logo">
    <h3>Arquivos</h3>
    <ul id="file-list">
      <li class="active" data-type="html" onclick="selectFile('html')">index.html</li>
      <li data-type="css" onclick="selectFile('css')">style.css</li>
      <li data-type="js" onclick="selectFile('js')">script.js</li>
    </ul>
  </div>

  <div id="main-content">
    <div id="editors">
      <!-- Editor HTML -->
      <div class="editor active" id="html-editor">
        <h4>HTML</h4>
        <div class="code-container">
          <div class="line-numbers" id="html-lines"></div>
          <textarea id="html" placeholder="Escreva HTML aqui..."></textarea>
        </div>
      </div>

      <!-- Editor CSS -->
      <div class="editor" id="css-editor">
        <h4>CSS</h4>
        <div class="code-container">
          <div class="line-numbers" id="css-lines"></div>
          <textarea id="css" placeholder="Escreva CSS aqui..."></textarea>
        </div>
      </div>

      <!-- Editor JS -->
      <div class="editor" id="js-editor">
        <h4>JS</h4>
        <div class="code-container">
          <div class="line-numbers" id="js-lines"></div>
          <textarea id="js" placeholder="Escreva JS aqui..."></textarea>
        </div>
      </div>
    </div>

    <!-- Ãrea de visualizaÃ§Ã£o -->
    <div id="preview-area">
      <div id="action-bar">
        <button id="run">â–¶ Executar</button>
        <button id="save">ðŸ’¾ Salvar</button>
        <button id="clear">ðŸ§¹ Limpar</button>
        <button id="export">ðŸ“¥ Exportar HTML</button>
      </div>
      <iframe id="preview"></iframe>
    </div>
  </div>

  <script>
    const html = document.getElementById('html');
    const css = document.getElementById('css');
    const js = document.getElementById('js');
    const preview = document.getElementById('preview');
    const fileList = document.getElementById('file-list');
    const createFileBtn = document.getElementById('create-file');
    const toggleSidebar = document.getElementById('toggle-sidebar');
    const saveBtn = document.getElementById('save');
    const clearBtn = document.getElementById('clear');
    const exportBtn = document.getElementById('export');
    const runBtn = document.getElementById('run');

    let currentFile = 'html';

    window.addEventListener('DOMContentLoaded', () => {
      html.value = localStorage.getItem('html') || '';
      css.value = localStorage.getItem('css') || '';
      js.value = localStorage.getItem('js') || '';
      updateEditor();
      setupEditor('html', 'html-lines');
      setupEditor('css', 'css-lines');
      setupEditor('js', 'js-lines');
      setupAutoCloseTags(html);
      setupAutoCloseTags(css);
      setupAutoCloseTags(js);
    });
    saveBtn.addEventListener('click', () => {
  try {
    localStorage.setItem('html', html.value);
    localStorage.setItem('css', css.value);
    localStorage.setItem('js', js.value);
    alert('âœ… CÃ³digo salvo com sucesso!');
  } catch (e) {
    console.error('Erro ao salvar:', e);
    alert('âŒ Erro ao salvar o cÃ³digo.');
  }
});
clearBtn.addEventListener('click', () => {
  if (confirm('Tem certeza que deseja limpar tudo?')) {
    html.value = '';
    css.value = '';
    js.value = '';

    alert('ðŸ§¹ CÃ³digo limpo com sucesso!');
  }
});

    runBtn.addEventListener('click', () => {
      const code = `
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
          <meta charset="UTF-8">
          <style>${css.value}</style>
        </head>
        <body>
          ${html.value}
          <script>${js.value}<\/script>
        </body>
        </html>
      `;
      preview.srcdoc = code;
    });

    function selectFile(fileType) {
      currentFile = fileType;
      document.querySelectorAll('#file-list li').forEach(li => li.classList.remove('active'));
      document.querySelector(`li[data-type="${fileType}"]`).classList.add('active');
      updateEditor();
    }

    function updateEditor() {
      document.querySelectorAll('.editor').forEach(e => e.classList.remove('active'));
      if (currentFile === 'html') {
        document.getElementById('html-editor').classList.add('active');
      } else if (currentFile === 'css') {
        document.getElementById('css-editor').classList.add('active');
      } else {
        document.getElementById('js-editor').classList.add('active');
      }
    }

    createFileBtn.addEventListener('click', () => {
      const fileName = prompt('Nome do novo arquivo (ex: novo.html):');
      if (fileName) {
        const fileType = fileName.split('.').pop();
        const li = document.createElement('li');
        li.textContent = fileName;
        li.dataset.type = fileType;
        li.addEventListener('click', () => selectFile(fileType));
        fileList.appendChild(li);
      }
    });

    toggleSidebar.addEventListener('click', () => {
      document.getElementById('sidebar').classList.toggle('open');
    });

    saveBtn.addEventListener('click', () => {
      try {
        localStorage.setItem('html', html.value);
        localStorage.setItem('css', css.value);
        localStorage.setItem('js', js.value);
        alert('âœ… CÃ³digo salvo com sucesso!');
      } catch (e) {
        console.error('Erro ao salvar:', e);
        alert('âŒ Erro ao salvar');
      }
    });

    clearBtn.addEventListener('click', () => {
      if (confirm('Tem certeza que deseja limpar tudo?')) {
        html.value = '';
        css.value = '';
        js.value = '';
      }
    });

    exportBtn.addEventListener('click', () => {
      const content = `
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
          <meta charset="UTF-8">
          <title>Exported Page</title>
          <style>${css.value}</style>
        </head>
        <body>
          ${html.value}
          <script>${js.value}<\/script>
        </body>
        </html>
      `;
      const blob = new Blob([content], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'pagina-exportada.html';
      a.click();
    });

    function setupAutoCloseTags(textarea) {
      textarea.addEventListener('keydown', function (e) {
        const start = this.selectionStart;
        const end = this.selectionEnd;
        const value = this.value;

        if (e.key === '>') {
          const before = value.slice(0, start);
          const match = before.match(/<(\w+)$/);
          const selfClosing = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'source', 'track', 'wbr'];

          if (match && !selfClosing.includes(match[1].toLowerCase())) {
            e.preventDefault();
            const tag = match[1];
            const closeTag = `></${tag}>`;
            this.value = before + closeTag + value.slice(end);
            this.setSelectionRange(start + 1, start + 1);
          }
        }

        const pairs = { '"': '"', "'": "'", '(': ')', '[': ']', '{': '}' };
        if (pairs[e.key]) {
          e.preventDefault();
          const open = e.key;
          const close = pairs[e.key];
          this.value = value.slice(0, start) + open + close + value.slice(end);
          this.setSelectionRange(start + 1, start + 1);
        }
      });
    }

    function updateLineNumbers(textarea, lineElement) {
      const lines = textarea.value.split('\n').length;
      lineElement.innerHTML = Array.from({ length: lines }, (_, i) => i + 1).join('<br>');
    }

    function setupEditor(textareaId, lineId) {
      const textarea = document.getElementById(textareaId);
      const lineNumbers = document.getElementById(lineId);

      textarea.addEventListener('input', () => updateLineNumbers(textarea, lineNumbers));
      textarea.addEventListener('scroll', () => {
        lineNumbers.scrollTop = textarea.scrollTop;
      });

      updateLineNumbers(textarea, lineNumbers);
    }
  </script>
</body>
</html>